# vid2img

A video to image extrator converted from Atcold's original version of MATLAB.

## Table of contents
 - [How to run](#how-to-run)
 - [Dataset builder](#dataset-builder)
 - [Image cropper](#image-cropper)

## How to run
`vid2img` runs with assigned videos saved in `Videos` folder. Videos should be saved in corresponding categories. It can be run as follows.
```bash
cd Codes
qlua vid2img.lua
```

After images are extracted with `vid2img`, images can be cropped out with `data-myDataset`.

```bash
th data-myDataset.lua --width --height --classes --trSize --teSize --plot
```

Specifications of the arguments are listed in `Image dataset creator`.

## Dataset builder

Image datasets are built with labels from videos. 'vid2img' dirctory tree is the following

```
.
├── Codes
├── GUI
├── images
├── labels
├── torch-data
├── README.md
└── Videos
```

### Main folders

 - [`Codes`](vid2img/Codes): where the vid2img scripts in Lua are saved.
 - [`GUI`](vid2img/GUI): where the graphical user interfaces designed in Qt for vid2img are saved.
 - [`Videos`](vid2img/Videos): videos are dropped in this folder with a specific category as the folder name. Inside the folder there is already a folder named `exampleFolder` containing 4 videos, named 01 - 04 for this particular case.

### Local temporary folders

 - `images`: is generated by `vid2img` Lua script, which contains all the frames from chosen videos. The images are saved in the correponding folder as specified by the file names.
 - `labels`: contains the coordinates of the selected object within each (not skipped) frame.
 - `torch-data`: contains `myClasses.t7` saving all the training data and test data in torch datatype.

## Image dataset creator

Image dataset creator has the following arguments.

```bash
th /Codes/data-myDataset.lua --width --height --classes --trSize --teSize --plot
```

```
width      (default 46)      width of dataset's images
height     (default 46)      height of dataset's images
classes    (default ask)     list the classes you'd like to load, or choose <all>
trSize     (default 750)     number of each dataset's category training samples
teSize     (default 250)     number of each dataset's category testing samples
plot       (default true)    show or not show graphical output
```
